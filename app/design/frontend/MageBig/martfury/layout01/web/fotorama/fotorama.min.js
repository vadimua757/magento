fotoramaVersion="4.6.4",function(t,n,e,o,i){"use strict";function a(t){var n="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[n]){var e=function(t,n){var e=[null,null],o=[null,null],i=[null,null],a=function(a,r){return i[r]=3*t[r],o[r]=3*(n[r]-t[r])-i[r],e[r]=1-i[r]-o[r],a*(i[r]+a*(o[r]+a*e[r]))},r=function(t){return i[0]+t*(2*o[0]+3*e[0]*t)},s=function(t){for(var n,e=t,o=0;++o<14&&(n=a(e,0)-t,!(Math.abs(n)<.001));)e-=n/r(e);return e};return function(t){return a(s(t),1)}};o.easing[n]=function(n,o,i,a,r){return a*e([t[0],t[1]],[t[2],t[3]])(o/r)+i}}return n}function r(){}function s(t,n,e){return Math.max(isNaN(n)?-(1/0):n,Math.min(isNaN(e)?1/0:e,t))}function u(t,n){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?"vertical"===n?13:12:"vertical"===n?5:4]}function c(t,n){return In?+u(t.css("transform"),n):+t.css("vertical"===n?"top":"left").replace("px","")}function l(t,n){var e={};if(In)switch(n){case"vertical":e.transform="translate3d(0, "+t+"px,0)";break;case"list":break;default:e.transform="translate3d("+t+"px,0,0)"}else"vertical"===n?e.top=t:e.left=t;return e}function d(t){return{"transition-duration":t+"ms"}}function h(t,n){return isNaN(t)?n:t}function f(t,n){return h(+String(t).replace(n||"px",""))}function m(t){return/%$/.test(t)?f(t,"%"):i}function v(t,n){return h(m(t)/100*n,f(t))}function p(t){return(!isNaN(f(t))||!isNaN(f(t,"%")))&&t}function g(t,n,e,o){return(t-(o||0))*(n+(e||0))}function w(t,n,e,o){return-Math.round(t/(n+(e||0))-(o||0))}function b(){var t,n={transition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(qn.style[t]!==i)return n[t]}function y(t){var n=t.data();if(!n.tEnd){t[0];B(t[0],b(),function(t){n.tProp&&t.propertyName.match(n.tProp)&&n.onEndFn()}),n.tEnd=!0}}function x(t,n,e,o){var i,a=t.data();a&&(a.onEndFn=function(){i||(i=!0,clearTimeout(a.tT),e())},a.tProp=n,clearTimeout(a.tT),a.tT=setTimeout(function(){a.onEndFn()},1.5*o),y(t))}function _(t,n){var e=t.navdir||"horizontal";if(t.length){var o=t.data();In?(t.css(d(0)),o.onEndFn=r,clearTimeout(o.tT)):t.stop();var i=C(n,function(){return c(t,e)});return t.css(l(i,e)),i}}function C(){for(var t,n=0,e=arguments.length;n<e&&(t=n?arguments[n]():arguments[n],"number"!=typeof t);n++);return t}function k(t,n){return Math.round(t+(n-t)/1.5)}function P(){return P.p=P.p||("https:"===e.protocol?"https://":"http://"),P.p}function S(t){var e=n.createElement("a");return e.href=t,e}function T(t,n){if("string"!=typeof t)return t;t=S(t);var e,o;if(t.host.match(/youtube\.com/)&&t.search){if(e=t.search.split("v=")[1]){var i=e.indexOf("&");i!==-1&&(e=e.substring(0,i)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be|youtube-nocookie.com/)?(e=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",e=t.pathname.replace(/^\/(\w+\/)*/,"").replace(/\/.*/,""));return e&&o||!n||(e=t.href,o="custom"),!!e&&{id:e,type:o,s:t.search.replace(/^\?/,""),p:P()}}function F(t,n,e){var i,a,r=t.video;return"youtube"===r.type?(a=P()+"img.youtube.com/vi/"+r.id+"/default.jpg",i=a.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?o.getJSON(P()+"vimeo.com/api/oembed.json",{url:"//vimeo.com/"+r.id},function(o){t.thumbsReady=!0,M(n,{img:o.thumbnail_url,thumb:o.thumbnail_url},t.i,e),console.log(o.thumbnail_url)}):t.thumbsReady=!0,{img:i,thumb:a}}function M(t,n,e,i){for(var a=0,r=t.length;a<r;a++){var s=t[a];if(s.i===e&&s.thumbsReady){var u={videoReady:!0};u[Un]=u[Zn]=u[Gn]=!1,i.splice(a,1,o.extend({},s,u,n));break}}}function E(t){function n(t,n,i){var a=t.children("img").eq(0),r=t.attr("href"),s=t.attr("src"),u=a.attr("src"),c=n.video,l=!!i&&T(r,c===!0);l?r=!1:l=c,e(t,a,o.extend(n,{video:l,img:n.img||r||s||u,thumb:n.thumb||u||s||r}))}function e(t,n,e){var i=e.thumb&&e.img!==e.thumb,a=f(e.width||t.attr("width")),r=f(e.height||t.attr("height"));o.extend(e,{width:a,height:r,thumbratio:K(e.thumbratio||f(e.thumbwidth||n&&n.attr("width")||i||a)/f(e.thumbheight||n&&n.attr("height")||i||r))})}var i=[];return t.children().each(function(){var t=o(this),a=H(o.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))n(t,a,!0);else{if(t.is(":empty"))return;e(t,null,o.extend(a,{html:this,_html:t.html()}))}i.push(a)}),i}function $(t){return 0===t.offsetWidth&&0===t.offsetHeight}function j(t){return!o.contains(n.documentElement,t)}function z(t,n,e,o){return z.i||(z.i=1,z.ii=[!0]),o=o||z.i,"undefined"==typeof z.ii[o]&&(z.ii[o]=!0),t()?n():z.ii[o]&&setTimeout(function(){z.ii[o]&&z(t,n,e,o)},e||100),z.i++}function q(t,n){var e=t.data(),o=e.measures;if(o&&(!e.l||e.l.W!==o.width||e.l.H!==o.height||e.l.r!==o.ratio||e.l.w!==n.w||e.l.h!==n.h)){var i=s(n.h,0,o.height),a=i*o.ratio;de.setRatio(t,a,i),e.l={W:o.width,H:o.height,r:o.ratio,w:n.w,h:n.h}}return!0}function N(t,n,e,o){return n!==e&&("vertical"===o?t<=n?"top":t>=e?"bottom":"top bottom":t<=n?"left":t>=e?"right":"left right")}function A(t,n,e){e=e||{},t.each(function(){var t,i=o(this),a=i.data();a.clickOn||(a.clickOn=!0,o.extend(it(i,{onStart:function(n){t=n,(e.onStart||r).call(this,n)},onMove:e.onMove||r,onTouchEnd:e.onTouchEnd||r,onEnd:function(e){e.moved||n.call(this,t)}}),{noMove:!0}))})}function I(t,n){return'<div class="'+t+'">'+(n||"")+"</div>"}function L(t){return"."+t}function O(t){var n='<iframe src="'+t.p+t.type+".com/embed/"+t.id+'" frameborder="0" allowfullscreen></iframe>';return n}function D(t){for(var n=t.length;n;){var e=Math.floor(Math.random()*n--),o=t[n];t[n]=t[e],t[e]=o}return t}function R(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function W(t,n,e){t.scrollLeft(n||0).scrollTop(e||0)}function H(t){if(t){var n={};return o.each(t,function(t,e){n[t.toLowerCase()]=e}),n}}function K(t){if(t){var n=+t;return isNaN(n)?(n=t.split("/"),+n[0]/+n[1]||i):n}}function B(t,n,e,o){n&&(t.addEventListener?t.addEventListener(n,e,!!o):t.attachEvent("on"+n,e))}function Q(t,n){return t>n.max?t=n.max:t<n.min&&(t=n.min),t}function V(t,n,e,o,i,a,r){var s,u,c;return"horizontal"===r?(u=t.thumbwidth,c=a.width()):(u=t.thumbheight,c=a.height()),s=(u+t.margin)*(e+1)-t.margin>=c-o?"horizontal"===r?-i.position().left:-i.position().top:(u+t.margin)*e-t.margin<=Math.abs(o)?"horizontal"===r?-i.position().left+c-(u+t.margin):-i.position().top+c-(u+t.margin):o,s=Q(s,n),s||0}function X(t){return!!t.getAttribute("disabled")}function Y(t,n){return n?{disabled:t}:{tabindex:t*-1+"",disabled:t}}function J(t,n){B(t,"keyup",function(e){X(t)||13==e.keyCode&&n.call(t,e)})}function U(t,n){B(t,"focus",t.onfocusin=function(e){n.call(t,e)},!0)}function G(t,n){t.preventDefault?t.preventDefault():t.returnValue=!1,n&&t.stopPropagation&&t.stopPropagation()}function Z(n,e){var o=/ip(ad|hone|od)/i.test(t.navigator.userAgent);o&&"touchend"===e&&n.on("touchend",function(t){zn.trigger("mouseup",t)}),n.on(e,function(t){return G(t,!0),!1})}function tt(t){return t?">":"<"}function nt(t,n){var e=t.data(),i=Math.round(n.pos),a=function(){e&&e.sliding&&(e.sliding=!1),(n.onEnd||r)()};"undefined"!=typeof n.overPos&&n.overPos!==n.pos&&(i=n.overPos);var s=o.extend(l(i,n.direction),n.width&&{width:n.width},n.height&&{height:n.height});e&&e.sliding&&(e.sliding=!0),In?(t.css(o.extend(d(n.time),s)),n.time>10?x(t,"transform",a,n.time):a()):t.stop().animate(s,n.time,ne,a)}function et(t,n,e,i,a,s){var u="undefined"!=typeof s;if(u||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){t=t||o(t),n=n||o(n);var c=t[0],l=n[0],d="crossfade"===i.method,h=function(){if(!h.done){h.done=!0;var t=(u||a.shift())&&a.shift();t&&et.apply(this,t),(i.onEnd||r)(!!t)}},f=i.time/(s||1);e.removeClass(Bt+" "+Kt),t.stop().addClass(Bt),n.stop().addClass(Kt),d&&l&&t.fadeTo(0,0),t.fadeTo(d?f:0,1,d&&h),n.fadeTo(f,0,h),c&&d||l||h()}}function ot(t){var n=(t.touches||[])[0]||t;t._x=n.pageX||n.originalEvent.pageX,t._y=n.clientY||n.originalEvent.clientY,t._now=o.now()}function it(t,e){function i(t){return h=o(t.target),y.checked=v=p=w=!1,l||y.flow||t.touches&&t.touches.length>1||t.which>1||re&&re.type!==t.type&&ue||(v=e.select&&h.is(e.select,b))?v:(m="touchstart"===t.type,p=h.is("a, a *",b),f=y.control,g=y.noMove||y.noSwipe||f?16:y.snap?0:4,ot(t),d=re=t,se=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(e.onStart||r).call(b,t,{control:f,$target:h}),l=y.flow=!0,void(m&&!y.go||G(t)))}function a(t){function n(t,n){return t>n&&t>1.5}if(t.touches&&t.touches.length>1||Rn&&!t.isPrimary||se!==t.type||!l)return l&&s(),void(e.onTouchEnd||r)();ot(t);var o=Math.abs(t._x-d._x),i=Math.abs(t._y-d._y),a=o-i,u=(y.go||y.x||a>=0)&&!y.noSwipe,c=a<0;m&&!y.checked?(l=u)&&G(t):(G(t),n(o,i)&&(e.onMove||r).call(b,t,{touch:m})),!w&&n(o,i)&&Math.sqrt(Math.pow(o,2)+Math.pow(i,2))>g&&(w=!0),y.checked=y.checked||u||c}function s(t){(e.onTouchEnd||r)();var n=l;y.control=l=!1,n&&(y.flow=!1),!n||p&&!y.checked||(t&&G(t),ue=!0,clearTimeout(ce),ce=setTimeout(function(){ue=!1},1e3),(e.onEnd||r).call(b,{moved:w,$target:h,control:f,touch:m,startEvent:d,aborted:!t||"MSPointerCancel"===t.type}))}function u(){y.flow||(y.flow=!0)}function c(){y.flow&&(y.flow=!1)}var l,d,h,f,m,v,p,g,w,b=t[0],y={};Rn?(B(b,"MSPointerDown",i),B(n,"MSPointerMove",a),B(n,"MSPointerCancel",s),B(n,"MSPointerUp",s)):(B(b,"touchstart",i),B(b,"touchmove",a),B(b,"touchend",s),B(n,"touchstart",u),B(n,"touchend",c),B(n,"touchcancel",c),jn.on("scroll",c),t.on("mousedown pointerdown",i),zn.on("mousemove pointermove",a).on("mouseup pointerup",s));var x="ontouchstart"in n.documentElement;return le=x?"a":"div",t.on("click",le,function(t){y.checked&&G(t)}),y}function at(t,n){function e(e,o){T=!0,c=d="vertical"===x?e._y:e._x,p=e._now,v=[[p,c]],h=f=E.noMove||o?0:_(t,(n.getPos||r)()),(n.onStart||r).call(F,e)}function i(n,o){w=E.min,b=E.max,y=E.snap,x=E.direction||"horizontal",t.navdir=x,C=n.altKey,T=S=!1,P=o.control,P||M.sliding||e(n)}function a(o,i){E.noSwipe||(T||e(o),d="vertical"===x?o._y:o._x,v.push([o._now,d]),f=h-(c-d),m=N(f,w,b,x),f<=w?f=k(f,w):f>=b&&(f=k(f,b)),E.noMove||(t.css(l(f,x)),S||(S=!0,i.touch||Rn||t.addClass(cn)),(n.onMove||r).call(F,o,{pos:f,edge:m})))}function u(i){if(!E.noSwipe||!i.moved){T||e(i.startEvent,!0),i.touch||Rn||t.removeClass(cn),g=o.now();for(var a,u,c,l,m,p,_,k,P,S=g-Hn,M=null,$=Kn,j=n.friction,z=v.length-1;z>=0;z--){if(a=v[z][0],u=Math.abs(a-S),null===M||u<c)M=a,l=v[z][1];else if(M===S||u>c)break;c=u}_=s(f,w,b);var q=l-d,N=q>=0,A=g-M,I=A>Hn,L=!I&&f!==h&&_===f;y&&(_=s(Math[L?N?"floor":"ceil":"round"](f/y)*y,w,b),w=b=_),L&&(y||_===f)&&(P=-(q/A),$*=s(Math.abs(P),n.timeLow,n.timeHigh),m=Math.round(f+P*$/j),y||(_=m),(!N&&m>b||N&&m<w)&&(p=N?w:b,k=m-p,y||(_=p),k=s(_+.03*k,p-50,p+50),$=Math.abs((f-k)/(P/j)))),$*=C?10:1,(n.onEnd||r).call(F,o.extend(i,{moved:i.moved||I&&y,pos:f,newPos:_,overPos:k,time:$,dir:x}))}}var c,d,h,f,m,v,p,g,w,b,y,x,C,P,S,T,F=t[0],M=t.data(),E={};return E=o.extend(it(n.$wrap,o.extend({},n,{onStart:i,onMove:a,onEnd:u})),E)}function rt(t,n){var e,i,a,s=t[0],u={prevent:{}};return B(s,Wn,function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,l=Math.abs(c)&&!Math.abs(s),d=tt(c<0),h=i===d,f=o.now(),m=f-a<Hn;i=d,a=f,l&&u.ok&&(!u.prevent[d]||e)&&(G(t,!0),e&&h&&m||(n.shift&&(e=!0,clearTimeout(u.t),u.t=setTimeout(function(){e=!1},Bn)),(n.onEnd||r)(t,n.shift?d:c)))}),u}function st(){o.each(o.Fotorama.instances,function(t,n){n.index=t})}function ut(t){o.Fotorama.instances.push(t),st()}function ct(t){o.Fotorama.instances.splice(t.index,1),st()}var lt="fotorama",dt="fotorama__fullscreen",ht=lt+"__wrap",ft=ht+"--css2",mt=ht+"--css3",vt=ht+"--video",pt=ht+"--fade",gt=ht+"--slide",wt=ht+"--no-controls",bt=ht+"--no-shadows",yt=ht+"--pan-y",xt=ht+"--rtl",_t=ht+"--no-captions",Ct=ht+"--toggle-arrows",kt=lt+"__stage",Pt=kt+"__frame",St=Pt+"--video",Tt=kt+"__shaft",Ft=lt+"__grab",Mt=lt+"__pointer",Et=lt+"__arr",$t=Et+"--disabled",jt=Et+"--prev",zt=Et+"--next",qt=lt+"__nav",Nt=qt+"-wrap",At=qt+"__shaft",It=Nt+"--vertical",Lt=Nt+"--list",Ot=Nt+"--horizontal",Dt=qt+"--dots",Rt=qt+"--thumbs",Wt=qt+"__frame",Ht=lt+"__fade",Kt=Ht+"-front",Bt=Ht+"-rear",Qt=lt+"__shadow",Vt=Qt+"s",Xt=Vt+"--left",Yt=Vt+"--right",Jt=Vt+"--top",Ut=Vt+"--bottom",Gt=lt+"__active",Zt=lt+"__select",tn=lt+"--hidden",nn=lt+"--fullscreen",en=lt+"__fullscreen-icon",on=lt+"__error",an=lt+"__loading",rn=lt+"__loaded",sn=rn+"--full",un=rn+"--img",cn=lt+"__grabbing",ln=lt+"__img",dn=ln+"--full",hn=lt+"__thumb",fn=hn+"__arr--left",mn=hn+"__arr--right",vn=hn+"-border",pn=lt+"__html",gn=lt+"-video-container",wn=lt+"__video",bn=wn+"-play",yn=wn+"-close",xn=lt+"_horizontal_ratio",_n=lt+"_vertical_ratio",Cn=lt+"__spinner",kn=o&&o.fn.jquery.split(".");if(!kn||kn[0]<1||1==kn[0]&&kn[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var Pn={},Sn={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},Tn="webkit moz o ms khtml".split(" ");if("undefined"!=typeof n.cancelFullScreen)Sn.ok=!0;else for(var Fn=0,Mn=Tn.length;Fn<Mn;Fn++)if(Sn.prefix=Tn[Fn],"undefined"!=typeof n[Sn.prefix+"CancelFullScreen"]){Sn.ok=!0;break}Sn.ok&&(Sn.event=Sn.prefix+"fullscreenchange",Sn.is=function(){switch(this.prefix){case"":return n.fullScreen;case"webkit":return n.webkitIsFullScreen;default:return n[this.prefix+"FullScreen"]}},Sn.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Sn.cancel=function(t){return""===this.prefix?n.cancelFullScreen():n[this.prefix+"CancelFullScreen"]()});var En,$n,jn=o(t),zn=o(n),qn=n.createElement("div"),Nn="quirks"===e.hash.replace("#",""),An=function(t,n){return t=qn.style,n="erspective","p"+n in t||"WebkitP"+n in t||"MozP"+n in t||"OP"+n in t||"msP"+n in t}(),In=An&&!Nn,Ln=(An||"CSS1Compat"===n.compatMode,Sn.ok),On=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Dn=!In||On,Rn=navigator.msPointerEnabled,Wn="onwheel"in n.createElement("div")?"wheel":n.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Hn=250,Kn=300,Bn=1400,Qn=5e3,Vn=2,Xn=64,Yn=500,Jn=333,Un="$stageFrame",Gn="$navDotFrame",Zn="$navThumbFrame",te="auto",ne=a([.1,0,.25,1]),ee=1200,oe=1,ie={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Vn,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Xn,thumbheight:Xn,thumbmargin:Vn,thumbborderwidth:Vn,allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Kn,captions:!0,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!1,trackpad:!1,shuffle:!1,direction:"ltr",shadows:!0,showcaption:!0,navdir:"horizontal",navarrows:!0,navtype:"thumbs"},ae={left:!0,right:!0,down:!0,up:!0,space:!1,home:!1,end:!1};z.stop=function(t){z.ii[t]=!1};var re,se,ue,ce,le,de=function(){function t(t,n,e){var o=n/e;o<=1?(t.parent().removeClass(xn),t.parent().addClass(_n)):(t.parent().removeClass(_n),t.parent().addClass(xn))}function n(t,n,e){var a=e;t.attr(a)||t.attr(a)===i||t.attr(a,n),t.find("["+a+"]").length&&t.find("["+a+"]").each(function(){o(this).attr(a,n)})}function e(t,n,e){var o,i=!1;return o=t.showCaption===e||t.showCaption===!0,!!n&&(t.caption&&o&&(i=!0),i)}return{setRatio:t,setThumbAttr:n,isExpectedCaption:e}}(de||{},jQuery);jQuery.Fotorama=function(e,a){function r(){o.each(je,function(t,n){if(!n.i){n.i=yo++;var e=T(n.video,!0);if(e){var o={};n.video=e,n.img||n.thumb?n.thumbsReady=!0:o=F(n,je,po),M(je,{img:o.img,thumb:o.thumb},n.i,po)}}})}function u(t){return io[t]}function h(){if(Po!==i)if("vertical"==a.navdir&&ze>1){var t=a.thumbwidth+a.thumbmargin;Po.css("left",t),ko.find("."+Wt).css({marginBottom:a.thumbmargin+"px",marginRight:a.thumbmargin+"px",height:a.thumbheight+"px"}),jo.css("marginTop","")}else Po.css("left",""),ko.find("."+Wt).css({marginBottom:"",marginRight:a.thumbmargin+"px",height:a.thumbheight+"px"}),jo.css("marginTop",a.thumbmargin+"px")}function m(t){var n,e="keydown."+lt,i=lt+go,r="keydown."+i,s="keyup."+i,c="resize."+i+" orientationchange."+i;t?(zn.on(r,function(t){var e,i;Ne&&27===t.keyCode?(e=!0,ye(Ne,!0,!0)):(po.fullScreen||a.keyboard&&!po.index)&&(27===t.keyCode?(e=!0,po.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&u("space")||37===t.keyCode&&u("left")||38===t.keyCode&&u("up")&&o(":focus").attr("data-gallery-role")?(po.longPress.progress(),i="<"):32===t.keyCode&&u("space")||39===t.keyCode&&u("right")||40===t.keyCode&&u("down")&&o(":focus").attr("data-gallery-role")?(po.longPress.progress(),i=">"):36===t.keyCode&&u("home")?(po.longPress.progress(),i="<<"):35===t.keyCode&&u("end")&&(po.longPress.progress(),i=">>")),(e||i)&&G(t),n={index:i,slow:t.altKey,user:!0},i&&(po.longPress.inProgress?po.showWhileLongPress(n):po.show(n))}),t&&zn.on(s,function(t){po.longPress.inProgress&&po.showEndLongPress({user:!0}),po.longPress.reset()}),po.index||zn.off(e).on(e,"textarea, input, select",function(t){!$n.hasClass(dt)&&t.stopPropagation()}),jn.on(c,po.resize)):(zn.off(r),jn.off(c))}function b(t){t!==b.f&&(t?(e.addClass(lt+" "+wo).before(Co).before(_o),ut(po)):(Co.detach(),_o.detach(),e.html(xo.urtext).removeClass(wo),ct(po)),m(t),b.f=t)}function y(){je=po.data=je||R(a.data)||E(e),ze=po.size=je.length,$e.ok&&a.shuffle&&D(je),r(),Bo=X(Bo),ze&&b(!0)}function x(){var t=ze<2||Ne;Xo.noMove=t||Ue,Xo.noSwipe=t||!a.swipe,!no&&So.toggleClass(Ft,!a.click&&!Xo.noMove&&!Xo.noSwipe),Rn&&ko.toggleClass(yt,!Xo.noSwipe)}function k(t){t===!0&&(t=""),a.autoplay=Math.max(+t||Qn,1.5*to)}function P(t){t.navarrows&&"thumbs"===t.nav?(Io.show(),Lo.show()):(Io.hide(),Lo.hide())}function S(t,n){return Math.floor(ko.width()/(n.thumbwidth+n.thumbmargin))}function $(){function t(t,e){n[t?"add":"remove"].push(e)}a.nav&&"dots"!==a.nav||(a.navdir="horizontal"),po.options=a=H(a),oe=S(ko,a),Ue="crossfade"===a.transition||"dissolve"===a.transition,Be=a.loop&&(ze>2||Ue&&(!no||"slide"!==no)),to=+a.transitionduration||Kn,oo="rtl"===a.direction,io=o.extend({},a.keyboard&&ae,a.keyboard),P(a);var n={add:[],remove:[]};ze>1?(Qe=a.nav,Xe="top"===a.navposition,n.remove.push(Zt)):(Qe=!1,Eo.hide()),Nn(),On(),An(),a.autoplay&&k(a.autoplay),Ge=f(a.thumbwidth)||Xn,Ze=f(a.thumbheight)||Xn,Yo.ok=Uo.ok=a.trackpad&&!Dn,x(),ue(a,[Vo]),Ve="thumbs"===Qe,$o.filter(":hidden")&&Qe&&$o.show(),Ve?(_n(ze,"navThumb"),qe=No,vo=Zn,jo.addClass(Rt).removeClass(Dt)):"dots"===Qe?(_n(ze,"navDot"),qe=qo,vo=Gn,jo.addClass(Dt).removeClass(Rt)):($o.hide(),Qe=!1,jo.removeClass(Rt+" "+Dt)),Qe&&(Xe?$o.insertBefore(Po):$o.insertAfter(Po),Fn.nav=!1,Fn(qe,zo,"nav")),Ye=a.allowfullscreen,Ye?(Oo.prependTo(Po),Je=Ln&&"native"===Ye,Z(Oo,"touchend")):(Oo.detach(),Je=!1),t(Ue,pt),t(!Ue,gt),t(!a.captions,_t),t(oo,xt),t(a.arrows,Ct),eo=a.shadows&&!Dn,t(!eo,bt),ko.addClass(n.add.join(" ")).removeClass(n.remove.join(" ")),Qo=o.extend({},a),h()}function B(t){return t<0?(ze+t%ze)%ze:t>=ze?t%ze:t}function X(t){return s(t,0,ze-1)}function ot(t){return Be?B(t):X(t)}function it(t){return!!(t>0||Be)&&t-1}function st(t){return!!(t<ze-1||Be)&&t+1}function Ht(){Xo.min=Be?-(1/0):-g(ze-1,Vo.w,a.margin,Le),Xo.max=Be?1/0:-g(0,Vo.w,a.margin,Le),Xo.snap=Vo.w+a.margin}function Kt(){var t="vertical"===a.navdir,n=t?zo.height():zo.width(),e=t?Vo.h:Vo.nw;Jo.min=Math.min(0,e-n),Jo.max=0,Jo.direction=a.navdir,zo.toggleClass(Ft,!(Jo.noMove=Jo.min===Jo.max))}function Bt(t,n,e){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,function(t,o){if(i&&(o=t),"number"==typeof o){var a=je[B(o)];if(a){var r="$"+n+"Frame",s=a[r];e.call(this,t,o,a,s,r,s&&s.data())}}})}function Qt(t,n,e,o){(!ao||"*"===ao&&o===Ke)&&(t=p(a.width)||p(t)||Yn,n=p(a.height)||p(n)||Jn,po.resize({width:t,ratio:a.ratio||e||t/n},0,o!==Ke&&"*"))}function cn(t,n,e,i){Bt(t,n,function(t,r,s,u,c,l){function d(t){var n=B(r);ce(t,{index:n,src:y,frame:je[n]})}function h(){g.remove(),o.Fotorama.cache[y]="error",s.html&&"stage"===n||!x||x===y?(!y||s.html||v?"stage"===n&&(u.trigger("f:load").removeClass(an+" "+on).addClass(rn),d("load"),Qt()):(u.trigger("f:error").removeClass(an).addClass(on),d("error")),l.state="error",!(ze>1&&je[r]===s)||s.html||s.deleted||s.video||v||(s.deleted=!0,po.splice(r,1))):(s[b]=y=x,l.$full=null,cn([r],n,e,!0))}function f(){o.Fotorama.measures[y]=w.measures=o.Fotorama.measures[y]||{width:p.width,height:p.height,ratio:p.width/p.height},Qt(w.measures.width,w.measures.height,w.measures.ratio,r),g.off("load error").addClass(""+(v?dn:ln)).attr("aria-hidden","false").prependTo(u),u.hasClass(Pt)&&!u.hasClass(gn)&&u.attr("href",g.attr("src")),q(g,(o.isFunction(e)?e():e)||Vo),o.Fotorama.cache[y]=l.state="loaded",setTimeout(function(){u.trigger("f:load").removeClass(an+" "+on).addClass(rn+" "+(v?sn:un)),"stage"===n?d("load"):(s.thumbratio===te||!s.thumbratio&&a.thumbratio===te)&&(s.thumbratio=w.measures.ratio,Me())},0)}function m(){var t=10;z(function(){return!fo||!t--&&!Dn},function(){f()})}if(u){var v=po.fullScreen&&!l.$full&&"stage"===n;if(!l.$img||i||v){var p=new Image,g=o(p),w=g.data();l[v?"$full":"$img"]=g;var b="stage"===n?v?"full":"img":"thumb",y=s[b],x=v?s.img:s["stage"===n?"thumb":"img"];if("navThumb"===n&&(u=l.$wrap),!y)return void h();o.Fotorama.cache[y]?!function t(){"error"===o.Fotorama.cache[y]?h():"loaded"===o.Fotorama.cache[y]?setTimeout(m,0):setTimeout(t,100)}():(o.Fotorama.cache[y]="*",g.on("load",m).on("error",h)),l.state="",p.src=y,l.data.caption&&(p.alt=l.data.caption||""),l.data.full&&o(p).data("original",l.data.full),de.isExpectedCaption(s,a.showcaption)&&o(p).attr("aria-labelledby",s.labelledby)}}})}function hn(){var t=Ae[Un];t&&!t.data().state&&(Ko.addClass("loading-mask").html('<div class="loader"></div>'),t.on("f:load f:error",function(){t.off("f:load f:error"),Ko.removeClass("loading-mask")}))}function xn(t){J(t,Se),U(t,function(){setTimeout(function(){W(jo)},0),Vn({time:to,guessIndex:o(this).data().eq,minMax:Jo})})}function _n(t,n){Bt(t,n,function(t,e,i,r,s,u){if(!r){r=i[s]=ko[s].clone(),u=r.data(),u.data=i;var c=r[0],l="labelledby"+o.now();"stage"===n?(i.html&&o('<div class="'+pn+'"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(r),i.id&&(l=i.id||l),i.labelledby=l,de.isExpectedCaption(i,a.showcaption)&&o(o.Fotorama.jst.frameCaption({caption:i.caption,labelledby:l})).appendTo(r),i.video&&r.addClass(St).append(Ro.clone()),U(c,function(){setTimeout(function(){W(Po)},0),Ce({index:u.eq,user:!0})}),To=To.add(r)):"navDot"===n?(xn(c),qo=qo.add(r)):"navThumb"===n&&(xn(c),u.$wrap=r.children(":first"),No=No.add(r),i.video&&u.$wrap.append(Ro.clone()))}})}function kn(t,n){return t&&t.length&&q(t,n)}function Pn(t){Bt(t,"stage",function(t,n,e,i,r,s){if(i){var u=B(n);s.eq=u,Zo[Un][u]=i.css(o.extend({left:Ue?0:g(n,Vo.w,a.margin,Le)},Ue&&d(0))),j(i[0])&&(So[0]!==i.parent()[0]&&i.appendTo(So),ye(e.$video)),kn(s.$img,Vo),kn(s.$full,Vo),!i.hasClass(Pt)||"false"===i.attr("aria-hidden")&&i.hasClass(Gt)||i.attr("aria-hidden","true")}})}function Tn(t,n){var e,i;"thumbs"!==Qe||isNaN(t)||(e=-t,i=-t+Vo.nw,"vertical"===a.navdir&&(t-=a.thumbheight,i=-t+Vo.h),No.each(function(){var t=o(this),r=t.data(),s=r.eq,u=function(){return{h:Ze,w:r.w}},c=u(),l="vertical"===a.navdir?r.t>i:r.l>i;c.w=r.w,r.l+r.w<e||l||kn(r.$img,c)||n&&cn([s],"navThumb",u)}))}function Fn(t,n,e){if(!Fn[e]){var i="nav"===e&&Ve,r=0,s=0;n.append(t.filter(function(){for(var t,n=o(this),e=n.data(),i=0,a=je.length;i<a;i++)if(e.data===je[i]){t=!0,e.eq=i;break}return t||n.remove()&&!1}).sort(function(t,n){return o(t).data().eq-o(n).data().eq}).each(function(){var t=o(this),n=t.data();de.setThumbAttr(t,n.data.caption,"aria-label")}).each(function(){if(i){var t=o(this),n=t.data(),e=Math.round(Ze*n.data.thumbratio)||Ge,u=Math.round(Ge/n.data.thumbratio)||Ze;n.t=s,n.h=u,n.l=r,n.w=e,t.css({width:e}),s+=u+a.thumbmargin,r+=e+a.thumbmargin}})),Fn[e]=!0}}function Mn(t){return t-ti>Vo.w/3}function qn(t){return!(Be||Bo+t&&Bo-ze+t||Ne)}function Nn(){var t=qn(0),n=qn(1);Fo.toggleClass($t,t).attr(Y(t,!1)),Mo.toggleClass($t,n).attr(Y(n,!1))}function An(){var t=!1,n=!1;if("thumbs"!==a.navtype||a.loop||(t=0==Bo,n=Bo==a.data.length-1),"slides"===a.navtype){var e=c(zo,a.navdir);t=e>=Jo.max,n=e<=Jo.min}Io.toggleClass($t,t).attr(Y(t,!0)),Lo.toggleClass($t,n).attr(Y(n,!0))}function On(){Yo.ok&&(Yo.prevent={"<":qn(0),">":qn(1)})}function Wn(t){var n,e,o,i,r=t.data();Ve?(n=r.l,e=r.t,o=r.w,i=r.h):(n=t.position().left,o=t.width());var s={c:n+o/2,min:-n+10*a.thumbmargin,max:-n+Vo.w-o-10*a.thumbmargin},u={c:e+i/2,min:-e+10*a.thumbmargin,max:-e+Vo.h-i-10*a.thumbmargin};return"vertical"===a.navdir?u:s}function Bn(t){var n=Ae[vo].data();nt(Ao,{time:1.2*t,pos:"vertical"===a.navdir?n.t:n.l,width:n.w,height:n.h,direction:a.navdir})}function Vn(t){var n,e,o,i,r,u,l,d,h=je[t.guessIndex][vo],f=a.navtype;h&&("thumbs"===f?(n=Jo.min!==Jo.max,o=t.minMax||n&&Wn(Ae[vo]),i=n&&(t.keep&&Vn.t?Vn.l:s((t.coo||Vo.nw/2)-Wn(h).c,o.min,o.max)),r=n&&(t.keep&&Vn.l?Vn.l:s((t.coo||Vo.nw/2)-Wn(h).c,o.min,o.max)),u="vertical"===a.navdir?i:r,l=n&&s(u,Jo.min,Jo.max)||0,e=1.1*t.time,nt(zo,{time:e,pos:l,direction:a.navdir,onEnd:function(){Tn(l,!0),An()}}),be(jo,N(l,Jo.min,Jo.max,a.navdir)),Vn.l=u):(d=c(zo,a.navdir),e=1.11*t.time,l=V(a,Jo,t.guessIndex,d,h,$o,a.navdir),nt(zo,{time:e,pos:l,direction:a.navdir,onEnd:function(){Tn(l,!0),An()}}),be(jo,N(l,Jo.min,Jo.max,a.navdir))))}function ne(){ie(vo),Go[vo].push(Ae[vo].addClass(Gt).attr("data-active",!0))}function ie(t){for(var n=Go[t];n.length;)n.shift().removeClass(Gt).attr("data-active",!1)}function re(t){var n=Zo[t];o.each(Ie,function(t,e){delete n[B(e)]}),o.each(n,function(t,e){delete n[t],e.detach()})}function se(t){Le=Oe=Bo;var n=Ae[Un];n&&(ie(Un),Go[Un].push(n.addClass(Gt).attr("data-active",!0)),n.hasClass(Pt)&&n.attr("aria-hidden","false"),t||po.showStage.onEnd(!0),_(So,0,!0),re(Un),Pn(Ie),Ht(),Kt(),J(So[0],function(){e.hasClass(nn)||(po.requestFullScreen(),Oo.focus())}))}function ue(t,n){t&&o.each(n,function(n,e){e&&o.extend(e,{width:t.width||e.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:K(t.ratio)})})}function ce(t,n){e.trigger(lt+":"+t,[po,n])}function le(){clearTimeout(he.t),fo=1,a.stopautoplayontouch?po.stopAutoplay():co=!0}function he(){fo&&(a.stopautoplayontouch||(fe(),me()),he.t=setTimeout(function(){fo=0},Kn+Hn))}function fe(){co=!(!Ne&&!lo)}function me(){if(clearTimeout(me.t),z.stop(me.w),!a.autoplay||co)return void(po.autoplay&&(po.autoplay=!1,ce("stopautoplay")));po.autoplay||(po.autoplay=!0,ce("startautoplay"));var t=Bo,n=Ae[Un].data();me.w=z(function(){return n.state||t!==Bo},function(){me.t=setTimeout(function(){if(!co&&t===Bo){var n=He,e=je[n][Un].data();me.w=z(function(){return e.state||n!==He},function(){co||n!==He||po.show(Be?tt(!oo):He)})}},a.autoplay)})}function ve(t){var n;return"object"!=typeof t?(n=t,t={}):n=t.index,n=">"===n?Oe+1:"<"===n?Oe-1:"<<"===n?0:">>"===n?ze-1:n,n=isNaN(n)?i:n,n="undefined"==typeof n?Bo||0:n}function pe(t){po.activeIndex=Bo=ot(t),Re=it(Bo),We=st(Bo),He=B(Bo+(oo?-1:1)),Ie=[Bo,Re,We],Oe=Be?t:Bo}function ge(t){var n=Math.abs(De-Oe),e=C(t.time,function(){return Math.min(to*(1+(n-1)/12),2*to)});return t.slow&&(e*=10),e}function we(){po.fullScreen&&(po.fullScreen=!1,Ln&&Sn.cancel(bo),$n.removeClass(dt),En.removeClass(dt),e.removeClass(nn).insertAfter(Co),Vo=o.extend({},ho),ye(Ne,!0,!0),Pe("x",!1),po.resize(),cn(Ie,"stage"),W(jn,so,ro),ce("fullscreenexit"))}function be(t,n){eo&&(t.removeClass(Xt+" "+Yt),t.removeClass(Jt+" "+Ut),n&&!Ne&&t.addClass(n.replace(/^|\s/g," "+Vt+"--")))}function ye(t,n,e){n&&(ko.removeClass(vt),Ne=!1,x()),t&&t!==Ne&&(t.remove(),ce("unloadvideo")),e&&(fe(),me())}function xe(t){ko.toggleClass(wt,t)}function _e(t){if(!Xo.flow){var n=t?t.pageX:_e.x,e=n&&!qn(Mn(n))&&a.click;_e.p!==e&&Po.toggleClass(Mt,e)&&(_e.p=e,_e.x=n)}}function Ce(t){clearTimeout(Ce.t),a.clicktransition&&a.clicktransition!==a.transition?setTimeout(function(){var n=a.transition;po.setOptions({transition:a.clicktransition}),no=n,Ce.t=setTimeout(function(){po.show(t)},10)},0):po.show(t)}function ke(t,n){var i=t.target,a=o(i);a.hasClass(bn)?po.playVideo():i===Do?po.toggleFullScreen():Ne?i===Ho&&ye(Ne,!0,!0):e.hasClass(nn)||po.requestFullScreen()}function Pe(t,n){Xo[t]=Jo[t]=n}function Se(t){var n=o(this).data().eq;Ce("thumbs"===a.navtype?{index:n,slow:t.altKey,user:!0,coo:t._x-jo.offset().left}:{index:n,slow:t.altKey,user:!0})}function Te(t){Ce({index:Eo.index(this)?">":"<",slow:t.altKey,user:!0})}function Fe(t){U(t,function(){setTimeout(function(){W(Po)},0),xe(!1)})}function Me(){if(y(),$(),!Me.i){Me.i=!0;var t=a.startindex;Bo=Le=Oe=De=Ke=ot(t)||0}if(ze){if(Ee())return;Ne&&ye(Ne,!0),Ie=[],re(Un),Me.ok=!0,po.show({index:Bo,time:0}),po.resize()}else po.destroy()}function Ee(){if(!Ee.f===oo)return Ee.f=oo,Bo=ze-1-Bo,po.reverse(),!0}function $e(){$e.ok&&($e.ok=!1,ce("ready"))}En=o("html"),$n=o("body");var je,ze,qe,Ne,Ae,Ie,Le,Oe,De,Re,We,He,Ke,Be,Qe,Ve,Xe,Ye,Je,Ue,Ge,Ze,to,no,eo,oo,io,ao,ro,so,uo,co,lo,ho,fo,mo,vo,po=this,go=o.now(),wo=lt+go,bo=e[0],yo=1,xo=e.data(),_o=o("<style></style>"),Co=o(I(tn)),ko=e.find(L(ht)),Po=ko.find(L(kt)),So=(Po[0],e.find(L(Tt))),To=o(),Fo=e.find(L(jt)),Mo=e.find(L(zt)),Eo=e.find(L(Et)),$o=e.find(L(Nt)),jo=$o.find(L(qt)),zo=jo.find(L(At)),qo=o(),No=o(),Ao=(So.data(),zo.data(),e.find(L(vn))),Io=e.find(L(fn)),Lo=e.find(L(mn)),Oo=e.find(L(en)),Do=Oo[0],Ro=o(I(bn)),Wo=e.find(L(yn)),Ho=Wo[0],Ko=e.find(L(Cn)),Bo=!1,Qo={},Vo={},Xo={},Yo={},Jo={},Uo={},Go={},Zo={},ti=0,ni=[];ko[Un]=o('<div class="'+Pt+'"></div>'),ko[Zn]=o(o.Fotorama.jst.thumb()),ko[Gn]=o(o.Fotorama.jst.dots()),Go[Un]=[],Go[Zn]=[],Go[Gn]=[],Zo[Un]={},ko.addClass(In?mt:ft),xo.fotorama=this,po.startAutoplay=function(t){return po.autoplay?this:(co=lo=!1,k(t||a.autoplay),me(),this)},po.stopAutoplay=function(){return po.autoplay&&(co=lo=!0,me()),this},po.showSlide=function(t){var n,e=c(zo,a.navdir),o=550,i="horizontal"===a.navdir?a.thumbwidth:a.thumbheight,r=function(){An()};"next"===t&&(n=e-(i+a.margin)*oe-a.margin),"prev"===t&&(n=e+(i+a.margin)*oe-a.margin),n=Q(n,Jo),Tn(n,!0),nt(zo,{time:o,pos:n,direction:a.navdir,onEnd:r})},po.showWhileLongPress=function(t){if(!po.longPress.singlePressInProgress){var n=ve(t);pe(n);var e=ge(t)/50,o=Ae;po.activeFrame=Ae=je[Bo];var i=o===Ae&&!t.user;return po.showNav(i,t,e),this}},po.showEndLongPress=function(t){if(!po.longPress.singlePressInProgress){var n=ve(t);pe(n);var e=ge(t)/50,o=Ae;po.activeFrame=Ae=je[Bo];var i=o===Ae&&!t.user;return po.showStage(i,t,e),uo="undefined"!=typeof De&&De!==Bo,De=Bo,this}},po.showStage=function(t,n,e){ye(Ne,Ae.i!==je[B(Le)].i),_n(Ie,"stage"),Pn(Dn?[Oe]:[Oe,it(Oe),st(Oe)]),Pe("go",!0),t||ce("show",{user:n.user,time:e}),co=!0;var o=n.overPos,i=po.showStage.onEnd=function(e){if(!i.ok){if(i.ok=!0,e||se(!0),t||ce("showend",{user:n.user}),!e&&no&&no!==a.transition)return po.setOptions({transition:no}),void(no=!1);hn(),cn(Ie,"stage"),Pe("go",!1),On(),_e(),fe(),me(),po.fullScreen?(Ae[Un].find("."+dn).attr("aria-hidden",!1),Ae[Un].find("."+ln).attr("aria-hidden",!0)):(Ae[Un].find("."+dn).attr("aria-hidden",!0),Ae[Un].find("."+ln).attr("aria-hidden",!1))}};if(Ue){var r=Ae[Un],s=je[De]&&Bo!==De?je[De][Un]:null;et(r,s,To,{time:e,method:a.transition,onEnd:i},ni)}else nt(So,{pos:-g(Oe,Vo.w,a.margin,Le),overPos:o,time:e,onEnd:i});Nn()},po.showNav=function(t,n,e){if(An(),Qe){ne();var o=X(Bo+s(Oe-De,-1,1));Vn({time:e,coo:o!==Bo&&n.coo,guessIndex:"undefined"!=typeof n.coo?o:Bo,keep:t}),Ve&&Bn(e)}},po.show=function(t){po.longPress.singlePressInProgress=!0;var n=ve(t);pe(n);var e=ge(t),o=Ae;po.activeFrame=Ae=je[Bo];var i=o===Ae&&!t.user;return po.showStage(i,t,e),po.showNav(i,t,e),uo="undefined"!=typeof De&&De!==Bo,De=Bo,po.longPress.singlePressInProgress=!1,this},po.requestFullScreen=function(){if(Ye&&!po.fullScreen){var n=o((po.activeFrame||{}).$stageFrame||{}).hasClass("fotorama-video-container");if(n)return;ro=jn.scrollTop(),so=jn.scrollLeft(),W(jn),Pe("x",!0),ho=o.extend({},Vo),e.addClass(nn).appendTo($n.addClass(dt)),En.addClass(dt),ye(Ne,!0,!0),po.fullScreen=!0,Je&&Sn.request(bo),
po.resize(),cn(Ie,"stage"),hn(),ce("fullscreenenter"),"ontouchstart"in t||Oo.focus()}return this},po.cancelFullScreen=function(){return Je&&Sn.is()?Sn.cancel(n):we(),this},po.toggleFullScreen=function(){return po[(po.fullScreen?"cancel":"request")+"FullScreen"]()},po.resize=function(n){if(!je)return this;var e=arguments[1]||0,i=arguments[2];oe=S(ko,a),ue(po.fullScreen?{width:o(t).width(),maxwidth:null,minwidth:null,height:o(t).height(),maxheight:null,minheight:null}:H(n),[Vo,i||po.fullScreen||a]);var r=Vo.width,u=Vo.height,c=Vo.ratio,l=jn.height()-(Qe?jo.height():0);if(p(r)&&(ko.css({width:""}),ko.css({height:""}),Po.css({width:""}),Po.css({height:""}),So.css({width:""}),So.css({height:""}),jo.css({width:""}),jo.css({height:""}),ko.css({minWidth:Vo.minwidth||0,maxWidth:Vo.maxwidth||ee}),"dots"===Qe&&$o.hide(),r=Vo.W=Vo.w=ko.width(),Vo.nw=Qe&&v(a.navwidth,r)||r,So.css({width:Vo.w,marginLeft:(Vo.W-Vo.w)/2}),u=v(u,l),u=u||c&&r/c)){if(r=Math.round(r),u=Vo.h=Math.round(s(u,v(Vo.minheight,l),v(Vo.maxheight,l))),"vertical"==a.navdir&&ze>1){var d=a.thumbwidth+a.thumbmargin,f=r-d,m=f*u/r;r=f,u=Vo.h=m,So.css({width:r})}if(Po.css({width:r,height:u}),"vertical"!==a.navdir||po.fullscreen||jo.width(a.thumbwidth),"horizontal"!==a.navdir||po.fullscreen||jo.height(a.thumbheight),"dots"===Qe&&(jo.width(r).height("auto"),$o.show()),"vertical"===a.navdir&&po.fullScreen&&Po.css("height",jn.height()),"horizontal"===a.navdir&&po.fullScreen&&Po.css("height",jn.height()-jo.height()),Qe){switch(a.navdir){case"vertical":$o.removeClass(Ot),$o.removeClass(Lt),$o.addClass(It),jo.stop().animate({height:u,width:a.thumbwidth},e);break;case"list":$o.removeClass(It),$o.removeClass(Ot),$o.addClass(Lt);break;default:$o.removeClass(It),$o.removeClass(Lt),$o.addClass(Ot),jo.stop().animate({width:Vo.nw},e)}se(),Vn({guessIndex:Bo,time:e,keep:!0}),Ve&&Fn.nav&&Bn(e)}ao=i||!0,$e.ok=!0,$e()}return ti=Po.offset().left,h(),this},po.setOptions=function(t){return o.extend(a,t),Me(),this},po.shuffle=function(){return je&&D(je)&&Me(),this},po.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){this.inProgress||(this.count++,this.inProgress=this.count>this.threshold)},end:function(){this.inProgress&&(this.isEnded=!0)},reset:function(){this.count=0,this.inProgress=!1,this.isEnded=!1}},po.destroy=function(){return po.cancelFullScreen(),po.stopAutoplay(),je=po.data=null,b(),Ie=[],re(Un),Me.ok=!1,this},po.playVideo=function(){var t=Ae,n=t.video,e=Bo;return"object"==typeof n&&t.videoReady&&(Je&&po.fullScreen&&po.cancelFullScreen(),z(function(){return!Sn.is()||e!==Bo},function(){e===Bo&&(t.$video=t.$video||o(I(wn)).append(O(n)),t.$video.appendTo(t[Un]),ko.addClass(vt),Ne=t.$video,x(),Eo.blur(),Oo.blur(),ce("loadvideo"))})),this},po.stopVideo=function(){return ye(Ne,!0,!0),this},po.spliceByIndex=function(t,n){n.i=t+1,n.img&&o.ajax({url:n.img,type:"HEAD",success:function(){je.splice(t,1,n),Me()}})},Po.on("mousemove",_e),Xo=at(So,{onStart:le,onMove:function(t,n){be(Po,n.edge)},onTouchEnd:he,onEnd:function(t){var n;if(be(Po),n=(Rn&&!mo||t.touch)&&a.arrows,(t.moved||n&&t.pos!==t.newPos&&!t.control)&&t.$target[0]!==Oo[0]){var e=w(t.newPos,Vo.w,a.margin,Le);po.show({index:e,time:Ue?to:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||ke(t.startEvent,n)},timeLow:1,timeHigh:1,friction:2,select:"."+Zt+", ."+Zt+" *",$wrap:Po,direction:"horizontal"}),Jo=at(zo,{onStart:le,onMove:function(t,n){be(jo,n.edge)},onTouchEnd:he,onEnd:function(t){function n(){Vn.l=t.newPos,fe(),me(),Tn(t.newPos,!0),An()}if(t.moved)t.pos!==t.newPos?(co=!0,nt(zo,{time:t.time,pos:t.newPos,overPos:t.overPos,direction:a.navdir,onEnd:n}),Tn(t.newPos),eo&&be(jo,N(t.newPos,Jo.min,Jo.max,t.dir))):n();else{var e=t.$target.closest("."+Wt,zo)[0];e&&Se.call(e,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:jo,direction:a.navdir}),Yo=rt(Po,{shift:!0,onEnd:function(t,n){le(),he(),po.show({index:n,slow:t.altKey})}}),Uo=rt(jo,{onEnd:function(t,n){le(),he();var e=_(zo)+.25*n;zo.css(l(s(e,Jo.min,Jo.max),a.navdir)),eo&&be(jo,N(e,Jo.min,Jo.max,a.navdir)),Uo.prevent={"<":e>=Jo.max,">":e<=Jo.min},clearTimeout(Uo.t),Uo.t=setTimeout(function(){Vn.l=e,Tn(e,!0)},Hn),Tn(e)}}),ko.hover(function(){setTimeout(function(){fo||xe(!(mo=!0))},0)},function(){mo&&xe(!(mo=!1))}),A(Eo,function(t){G(t),Te.call(this,t)},{onStart:function(){le(),Xo.control=!0},onTouchEnd:he}),A(Io,function(t){G(t),"thumbs"===a.navtype?po.show("<"):po.showSlide("prev")}),A(Lo,function(t){G(t),"thumbs"===a.navtype?po.show(">"):po.showSlide("next")}),Eo.each(function(){J(this,function(t){Te.call(this,t)}),Fe(this)}),J(Do,function(){e.hasClass(nn)?(po.cancelFullScreen(),So.focus()):(po.requestFullScreen(),Oo.focus())}),Fe(Do),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,n){po[n]=function(){return je=je||[],"load"!==n?Array.prototype[n].apply(je,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(je=R(arguments[0])),Me(),po}}),Me()},o.fn.fotorama=function(n){return this.each(function(){var e=this,i=o(this),a=i.data(),r=a.fotorama;r?r.setOptions(n,!0):z(function(){return!$(e)},function(){a.urtext=i.html(),new o.Fotorama(i,o.extend({},ie,t.fotoramaDefaults,n,a))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},o=o||{},o.Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.dots=function(t){var n="";Pn.escape;return n+='<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>'},o.Fotorama.jst.frameCaption=function(t){var n,e="";Pn.escape;return e+='<div class="fotorama__caption" aria-hidden="true">\r\n    <div class="fotorama__caption__wrap" id="'+(null==(n=t.labelledby)?"":n)+'">'+(null==(n=t.caption)?"":n)+"</div>\r\n</div>\r\n"},o.Fotorama.jst.thumb=function(t){var n="";Pn.escape;return n+='<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>'}}(window,document,location,"undefined"!=typeof jQuery&&jQuery);